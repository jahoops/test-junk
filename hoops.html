<!DOCTYPE html>
<html>

<head>
</head>

<body>

  <hopper></hopper>

  <script src="hoops.js" type="text/javascript"></script>
  <script data-src="hopper.tag" type="hoops/tag"></script>
  <script type="text/javascript">
    (function () {
      var stuff = getScript("hopper.tag", function(data) {
        console.log(data);
        console.log('returned');
      });
      console.log(stuff, 'is probably empty');
    })();
 
function getScript(url, callback) {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src = url;
  // most browsers
  script.onload = callback;
  // IE 6 & 7
  script.onreadystatechange = function() {
    if (this.readyState == 'complete') {
      callback();
    }
  }
  document.getElementsByTagName('head')[0].appendChild(script);
}
  </script>
</body>

</html>